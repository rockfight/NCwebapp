(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{328:function(e,t,a){"use strict";a.d(t,"h",function(){return r}),a.d(t,"g",function(){return c}),a.d(t,"c",function(){return o}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i}),a.d(t,"d",function(){return u}),a.d(t,"f",function(){return m}),a.d(t,"e",function(){return d});var n=a(8),l={method:"get",baseURL:a(111).d,responseType:"json",params:{request:null,range:null}},r=(Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"SUBINDEXCURRENT"})}),Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"SUBINDEXOPEN"})}),Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"SUBINDEXYEARTURNOVER"})})),c=Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"NEPSEWEEKMONTHYEAR"})}),o=Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"COMPANYINFO",symbol:"ADBL"})}),s=Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"COMPANYFINANCIAL",symbol:"ADBL"})}),i=Object(n.a)({},l,{method:"post",params:Object(n.a)({},l.params,{request:"COMPANYCURRENT"})}),u=Object(n.a)({},l,{method:"post",params:Object(n.a)({},l.params,{request:"COMPANYPREVIOUS"})}),m=Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"CONTRACTNUMBER"})}),d=Object(n.a)({},l,{params:Object(n.a)({},l.params,{request:"COMPANYRETURN",symbol:"ADBL"})})},786:function(e,t,a){"use strict";a.r(t);var n=a(115),l=a(767),r=a(8),c=a(72),o=a(109),s=a.n(o),i=a(421),u=a(1),m=a.n(u),d=a(365),E=a(458),b=a(775),f=a(388),p=a(389),y=a(73),O=a(74),g=a(517),h=a(78),j=a(773),N=a(513),k=a(16),v=a(75),x=a(662),S=a(768),C=a(765),F=a(766),w=a(518),P=a(787),q=a(76),T=a(77),Y=a(24),D=a(788),I=a(397),M=a(395),R=a(396),A=a(328),U=a(385),B=a(315),L=a(71),V=a(108);t.default=function(){var e=Object(u.useState)(),t=Object(c.a)(e,2),a=t[0],o=t[1],z=Object(u.useState)(),H=Object(c.a)(z,2),J=H[0],Q=H[1],W=Object(u.useState)(!1),X=Object(c.a)(W,2),G=X[0],K=X[1],Z=Object(u.useState)({}),$=Object(c.a)(Z,2),_=$[0],ee=$[1],te=Object(u.useState)({}),ae=Object(c.a)(te,2),ne=ae[0],le=ae[1],re=Object(u.useState)({}),ce=Object(c.a)(re,2),oe=ce[0],se=ce[1],ie=Object(u.useState)({}),ue=Object(c.a)(ie,2),me=ue[0],de=ue[1],Ee=Object(u.useState)({}),be=Object(c.a)(Ee,2),fe=be[0],pe=be[1],ye=Object(u.useState)({}),Oe=Object(c.a)(ye,2),ge=Oe[0],he=Oe[1],je=Object(u.useState)({}),Ne=Object(c.a)(je,2),ke=Ne[0],ve=Ne[1],xe=Object(u.useState)({}),Se=Object(c.a)(xe,2),Ce=Se[0],Fe=Se[1],we=Object(u.useState)({}),Pe=Object(c.a)(we,2),qe=Pe[0],Te=Pe[1],Ye=Object(u.useState)({}),De=Object(c.a)(Ye,2),Ie=De[0],Me=De[1],Re=Object(u.useState)(),Ae=Object(c.a)(Re,2),Ue=Ae[0],Be=Ae[1],Le=Object(u.useState)(!1),Ve=Object(c.a)(Le,2),ze=Ve[0],He=Ve[1],Je=Object(u.useState)(),Qe=Object(c.a)(Je,2),We=Qe[0],Xe=Qe[1],Ge=Object(u.useState)(""),Ke=Object(c.a)(Ge,2),Ze=Ke[0],$e=Ke[1],_e=Object(u.useState)("Select Type"),et=Object(c.a)(_e,2),tt=et[0],at=et[1],nt=Object(u.useState)(0),lt=Object(c.a)(nt,2),rt=lt[0],ct=lt[1],ot=Object(u.useState)(0),st=Object(c.a)(ot,2),it=st[0],ut=st[1],mt=Object(u.useState)(Object(i.format)(new Date,"MM/DD/YYYY")),dt=Object(c.a)(mt,2),Et=dt[0],bt=dt[1],ft=Object(u.useState)(null),pt=Object(c.a)(ft,2),yt=pt[0],Ot=pt[1],gt=Object(u.useState)(null),ht=Object(c.a)(gt,2),jt=ht[0],Nt=ht[1],kt=Object(u.useState)(!1),vt=Object(c.a)(kt,2),xt=vt[0],St=vt[1],Ct=Object(u.useState)({}),Ft=Object(c.a)(Ct,2),wt=Ft[0],Pt=Ft[1],qt=Object(u.useState)(!1),Tt=Object(c.a)(qt,2),Yt=Tt[0],Dt=Tt[1],It=Object(u.useState)([]),Mt=Object(c.a)(It,2),Rt=Mt[0],At=Mt[1],Ut=Object(u.useState)(!1),Bt=Object(c.a)(Ut,2),Lt=Bt[0],Vt=Bt[1],zt=Object(u.useState)(!1),Ht=Object(c.a)(zt,2),Jt=Ht[0],Qt=Ht[1],Wt=Object(u.useState)([]),Xt=Object(c.a)(Wt,2),Gt=Xt[0],Kt=Xt[1],Zt=Object(u.useState)([]),$t=Object(c.a)(Zt,2),_t=$t[0],ea=$t[1],ta=Object(u.useContext)(L.b),aa=ta.uid,na=ta.emailVerified,la=Object(u.useContext)(L.a),ra=V.a.firestore();Object(u.useEffect)(function(){if(aa){var e=ra.collection("portfolios").doc(aa).onSnapshot(function(e){e.exists?(o(e.data().name),ee(e.data().transactions.buy),le(e.data().transactions.sell)):ma()});return function(){e()}}},[aa]),Object(u.useEffect)(function(){if(Object.keys(_).length>0){var e=new FormData;e.set("symbols",Object.keys(_));var t=Object(r.a)({},A.a,{data:e}),a=Object(r.a)({},A.d,{data:e});if(s.a.all([s()(t),s()(a)]).then(s.a.spread(function(e,t){ve(e.data),Me(t.data)})),"Live"==la){var n=setInterval(function(){s()(t).then(function(e){Object.keys(ke).length>0?Object.keys(e.data).reduce(function(t,a){return t||ke[a].closeIndex!=e.data[a].closeIndex},!1)&&ve(e.data):ve(e.data)})},3e4);return function(){clearInterval(n)}}}},[_]),Object(u.useEffect)(function(){var e,t,a={},n=[];Object.keys(_).map(function(l){a[l]=_[l].map(function(a){return e=a.quantity*a.price,t=e<=5e4?.6:e>5e4&&e<=5e5?.55:e>5e5&&e<=2e6?.5:e>2e6&&e<=1e7?.45:.4,"Secondary"==a.type?a.price+a.price*((t+.015)/100):a.price}),n.push("rgba("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+",0.9)")}),pe(a),At(n)},[_]),Object(u.useEffect)(function(){var e,t={};Object.keys(me).map(function(a){e=_[a].reduce(function(e,t){return e+t.quantity},0),t[a]=fe[a].reduce(function(t,n,l){return t+_[a][l].quantity*n/e},0)}),Te(t)},[fe]),Object(u.useEffect)(function(){var e,t={},a=0;Object.keys(ne).map(function(n){t[n]=ne[n].map(function(t){return e=t.quantity*t.price,a=e<=5e4?.6:e>5e4&&e<=5e5?.55:e>5e5&&e<=2e6?.5:e>2e6&&e<=1e7?.45:.4,t.price-t.price*((a+.015)/100)}),he(t)})},[ne]),Object(u.useEffect)(function(){if(Object.keys(ke).length>0){var e,t={},a=0;Object.keys(_).map(function(n){me.hasOwnProperty(n)&&ke.hasOwnProperty(n)&&(e=me[n]*ke[n].closeIndex,a=e<=5e4?.6:e>5e4&&e<=5e5?.55:e>5e5&&e<=2e6?.5:e>2e6&&e<=1e7?.45:.4,t[n]=ke[n].closeIndex-ke[n].closeIndex*((a+.015)/100))}),Fe(t)}},[ke,me]),Object(u.useEffect)(function(){if(Object.keys(oe).length>0){var e,t,a,n,l=0,r=m.a.createElement(b.a,{size:"sm",bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Symbol"),m.a.createElement("th",null,"Quantity"),m.a.createElement("th",null,"Bought"),m.a.createElement("th",null,"Sold"),m.a.createElement("th",null,"Return"),m.a.createElement("th",null,"Percent"))),m.a.createElement("tbody",null,Object.keys(oe.buy).map(function(r){return n=oe.buy[r].reduce(function(e,a){return t=a.quantity*a.price,l=t<=5e4?.6:t>5e4&&t<=5e5?.55:t>5e5&&t<=2e6?.5:t>2e6&&t<=1e7?.45:.4,e+("Secondary"==a.type?t+t*((l+.015)/100):t)},0),a=oe.sell[r].reduce(function(t,a){return t+((e=a.quantity*a.price)-e*((.015+(l=e<=5e4?.6:e>5e4&&e<=5e5?.55:e>5e5&&e<=2e6?.5:e>2e6&&e<=1e7?.45:.4))/100))},0),m.a.createElement("tr",{key:r,className:a-n>=0?"table-success":"table-danger"},m.a.createElement("td",null,r),m.a.createElement("td",null,oe.buy[r].reduce(function(e,t){return e+t.quantity},0).toLocaleString()),m.a.createElement("td",null,"Rs.",parseFloat(n.toFixed(2)).toLocaleString()),m.a.createElement("td",null,"Rs. ",parseFloat(a.toFixed(2)).toLocaleString()),m.a.createElement("td",null,"Rs. ",parseFloat((a-n).toFixed(2)).toLocaleString()),m.a.createElement("td",null,parseFloat(((a-n)/n*100).toFixed(2)).toLocaleString(),"%"))})));Be(r)}},[oe]),Object(u.useEffect)(function(){var e={},t={},a={};Object.keys(_).map(function(e){t[e]=_[e].reduce(function(e,t){return e+t.quantity},0)}),Object.keys(ne).map(function(e){a[e]=ne[e].reduce(function(e,t){return e+t.quantity},0)}),Object.keys(t).map(function(n){t[n]>0&&(e[n]=a.hasOwnProperty(n)?t[n]-a[n]:t[n])}),de(e)},[_,ne]),Object(u.useEffect)(function(){var e={},t=[],a=[];Object.keys(_).map(function(n){t=_[n].map(function(e){return"Secondary"==e.type?e.date:null}).concat(ne.hasOwnProperty(n)?ne[n].map(function(e){return e.date}):[]),a=t.filter(function(e){return null!=e}),e[n]=Object(l.a)(new Set(a)).length}),Pt(e)},[_,ne]),Object(u.useEffect)(function(){if(ze){var e=ra.collection("transactionHistories").doc(aa).onSnapshot(function(e){e.exists&&se(e.data())});return function(){e()}}},[ze]);var ca=function(){$e(""),at("Select Type"),ct(0),ut(0),bt(Object(i.format)(new Date,"MM/DD/YYYY")),Ot(null),Nt(null),St(!1),Dt(!1)},oa=function(e){if(We){if(Ot(e),""!=We){var t=Object(r.a)({},A.f,{params:Object(r.a)({},A.f.params,{contractNumber:We})});bt(Object(i.format)(new Date(We.substring(0,4),We.substring(4,6)-1,We.substring(6,8)),"MM/DD/YYYY")),s()(t).then(function(t){t.data?"buy"==e?(ut(t.data.RATE),ct(t.data.QUANTITY),$e(t.data.SYMBOL),at("Secondary")):(ut(t.data.RATE),ct(t.data.QUANTITY),$e(t.data.SYMBOL)):$e("Wrong Contract Number")})}}else Ot(null)},sa=function(){if(rt>0){var e=ra.collection("portfolios").doc(aa),t="Select Type"==tt?"Secondary":tt;e.update(Object(n.a)({},"transactions.buy."+Ze,V.a.firestore.FieldValue.arrayUnion({id:We,type:t,quantity:parseFloat(rt),price:parseFloat(it),date:Date.parse(Et)/1e3})))}ca()},ia=function(){if(rt>0&&it>0){var e=ra.collection("portfolios").doc(aa);if(me[Ze]>rt)e.update(Object(n.a)({},"transactions.sell."+Ze,V.a.firestore.FieldValue.arrayUnion({id:We,quantity:parseFloat(rt),price:parseFloat(it),date:Date.parse(Et)/1e3})));else if(me[Ze]==rt){var t,a,r,c,o=ra.collection("transactionHistories").doc(aa),s=ra.batch(),i=ne.hasOwnProperty(Ze)?ne[Ze].concat({id:We,quantity:parseFloat(rt),price:parseFloat(it),date:Date.parse(Et)/1e3}):[{id:We,quantity:parseFloat(rt),price:parseFloat(it),date:Date.parse(Et)/1e3}];s.update(o,(r={},Object(n.a)(r,"buy."+Ze,(t=V.a.firestore.FieldValue).arrayUnion.apply(t,Object(l.a)(_[Ze]))),Object(n.a)(r,"sell."+Ze,(a=V.a.firestore.FieldValue).arrayUnion.apply(a,Object(l.a)(i))),r)),s.update(e,(c={},Object(n.a)(c,"transactions.buy."+Ze,V.a.firestore.FieldValue.delete()),Object(n.a)(c,"transactions.sell."+Ze,V.a.firestore.FieldValue.delete()),c)),s.commit()}else alert("You are trying to sell more stocks than available !")}else it<=0?alert("Price cannot be zero"):rt<=0?alert("You cannot sell zero stocks"):alert("Cannot sell. Please try again.");ca()},ua=function(e,t,a,r){var c=ra.collection("portfolios").doc(aa);if("update"==r&&rt>0&&it>0||"delete"==r||rt>0&&"Bonus"==tt)if("buy"==a){var o=_[Ze].filter(function(t){return t.id!=e});if("update"==r&&o.push({id:e,type:tt,quantity:parseFloat(rt),price:parseFloat(it),date:Date.parse(Et)/1e3}),"delete"==r&&me[Ze]>t||"update"==r&&t-rt<me[Ze])c.update(Object(n.a)({},"transactions.buy."+Ze,o.length>0?o:V.a.firestore.FieldValue.delete()));else if("delete"==r&&me[Ze]==t||"update"==r&&t-rt==me[Ze]){if(window.confirm(ne.hasOwnProperty(Ze)?"Sold stocks will equal buy stocks. All your transactions will be moved to history.":"This is the only transaction of "+Ze+". This stock will be removed from portfolio.")){var s,i,u,m,d=ra.collection("transactionHistories").doc(aa),E=ra.batch();ne.hasOwnProperty(Ze)&&E.update(d,(m={},Object(n.a)(m,"buy."+Ze,(i=V.a.firestore.FieldValue).arrayUnion.apply(i,Object(l.a)(o))),Object(n.a)(m,"sell."+Ze,(u=V.a.firestore.FieldValue).arrayUnion.apply(u,Object(l.a)(ne[Ze]))),m)),E.update(c,(s={},Object(n.a)(s,"transactions.buy."+Ze,V.a.firestore.FieldValue.delete()),Object(n.a)(s,"transactions.sell."+Ze,V.a.firestore.FieldValue.delete()),s)),E.commit()}}else alert("Cannot "+r+"! Sold stocks will be greater than bought stocks.")}else{var b=ne[Ze].filter(function(t){return t.id!=e});if("update"==r&&rt>0&&b.push({id:e,quantity:parseFloat(rt),price:parseFloat(it),date:Date.parse(Et)/1e3}),rt-t<me[Ze])c.update(Object(n.a)({},"transactions.sell."+Ze,b.length>0?b:V.a.firestore.FieldValue.delete()));else if(rt-t==me[Ze]){if(window.confirm("Sold stocks will equal buy stocks. All your transactions will be moved to history.")){var f,p,y,O,g=ra.collection("transactionHistories").doc(aa),h=ra.batch();h.update(g,(y={},Object(n.a)(y,"buy."+Ze,(f=V.a.firestore.FieldValue).arrayUnion.apply(f,Object(l.a)(_[Ze]))),Object(n.a)(y,"sell."+Ze,(p=V.a.firestore.FieldValue).arrayUnion.apply(p,Object(l.a)(b))),y)),h.update(c,(O={},Object(n.a)(O,"transactions.buy."+Ze,V.a.firestore.FieldValue.delete()),Object(n.a)(O,"transactions.sell."+Ze,V.a.firestore.FieldValue.delete()),O)),h.commit()}}else alert("You are trying to sell more stocks than available !")}else it<=0&&"Bonus"!=tt?alert("Price cannot zero."):rt<=0?alert("Quantity cannot be zero"):alert("Cannot edit your transaction. Please try again.");ca()},ma=function(){var e,t,a,n={};ra.collection("transactions").doc(aa).get().then(function(l){if(l.exists){t=l.data().portfolio.buy,a=l.data().portfolio.sell,e=l.data().name;var r=Object.keys(a);Object.keys(t).map(function(e){r.includes(e)||(n[e]=t[e].map(function(e){return e.type="Select Type"==e.type?"Secondary":e.type,e}))}),Kt(r),ea(Object.keys(t).filter(function(e){return!r.includes(e)}));var c=ra.batch();c.set(ra.collection("portfolios").doc(aa),{name:e,transactions:{buy:n,sell:{}}}),c.set(ra.collection("transactionHistories").doc(aa),{buy:{},sell:{}}),c.commit().then(function(t){Qt(!0),o(e)}).catch(function(e){alert("Cannot Upgrade your portfolio. Please Try again.")})}else{var s=ra.batch();s.set(ra.collection("portfolios").doc(aa),{name:"My Portfolio",transactions:{buy:{},sell:{}}}),s.set(ra.collection("transactionHistories").doc(aa),{buy:{},sell:{}}),s.commit().catch(function(e){alert("Cannot Create your portfolio. Please Try again.")})}})};return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"animated fadeIn"},aa?null:m.a.createElement(E.a,{to:"/login"}),!na&&aa?m.a.createElement(E.a,{to:"/verify"}):null,m.a.createElement(m.a.Fragment,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{className:"px-0"},m.a.createElement(y.a,null,m.a.createElement(O.a,{className:"bg-info"},a?m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"d-inline-block"},m.a.createElement("h4",null,G?"New Portfolio Name":a),m.a.createElement(g.a,{className:G?"d-block":"d-none"},m.a.createElement(h.a,{type:"text",onChange:function(e){Q(e.target.value)}}))),m.a.createElement("div",{className:"d-inline-block ml-1"},m.a.createElement("i",{title:"Save Portfolio Name",className:G?"d-none":"fa fa-edit d-block",onClick:function(){K(!0)}})),m.a.createElement("div",{className:"d-inline-block ml-1"},m.a.createElement("i",{size:"lg",title:"Edit Portfolio Name",className:G?"fa fa-check d-block":"d-none",onClick:function(e){e.preventDefault(),""!=J&&a!=J&&ra.collection("portfolios").doc(aa).update({name:J||a}).catch(function(e){alert("Cannot Update your portfolio name. Try again.")}),K(!1)}})),Object.keys(me).length>0&&JSON.stringify(Object.keys(me).sort())==JSON.stringify(Object.keys(ke).sort())&&JSON.stringify(Object.keys(ke).sort())==JSON.stringify(Object.keys(Ie).sort())?m.a.createElement("div",{className:"float-right"},m.a.createElement(j.a,{color:Object.keys(me).reduce(function(e,t){return e+(me[t]*ke[t].closeIndex-me[t]*Ie[t].closeIndex)},0)>=0?"success":"danger"},m.a.createElement("strong",{className:"h4 pl-1"},Object.keys(me).reduce(function(e,t){return e+(me[t]*ke[t].closeIndex-me[t]*Ie[t].closeIndex)},0)," ")),m.a.createElement("small",null,"Today")):null):m.a.createElement("div",null,"Getting Your Portfolio ...")),m.a.createElement(N.a,null,Object.keys(fe).length>0&&JSON.stringify(Object.keys(_).sort())==JSON.stringify(Object.keys(fe).sort())&&JSON.stringify(Object.keys(ke).sort())==JSON.stringify(Object.keys(_).sort())?m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"6"},m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"6"},m.a.createElement("div",{className:"callout callout-info"},m.a.createElement("small",{className:"text-muted"},"Total Investment"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},Object.keys(me).reduce(function(e,t){return e+me[t]*qe[t]},0).toFixed(2)))),m.a.createElement(p.a,{sm:"6"},m.a.createElement("div",{className:"callout callout-danger"},m.a.createElement("small",{className:"text-muted"},"Net Worth"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},Object.keys(me).reduce(function(e,t){return e+me[t]*Ce[t]},0).toFixed(2))))),m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"12",className:"d-none d-sm-block"},m.a.createElement(d.c,{data:{labels:Object.keys(_),datasets:[{data:Object.keys(me).map(function(e){return parseFloat((me[e]*qe[e]).toFixed(2))}),backgroundColor:Rt}]},options:{title:{display:!0,text:"Investment Ratio",position:"bottom"},legend:{display:!1,position:"right"}}})))),m.a.createElement(p.a,{sm:"6"},m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"6"},m.a.createElement("div",{className:"callout callout-warning"},m.a.createElement("small",{className:"text-muted"},"Net Return"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},(Object.keys(me).reduce(function(e,t){return e+me[t]*Ce[t]},0)-Object.keys(me).reduce(function(e,t){return e+me[t]*qe[t]},0)).toFixed(2)))),m.a.createElement(p.a,{sm:"6"},m.a.createElement("div",{className:"callout callout-success"},m.a.createElement("small",{className:"text-muted"},"Percent Return"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},((Object.keys(me).reduce(function(e,t){return e+me[t]*Ce[t]},0)-Object.keys(me).reduce(function(e,t){return e+me[t]*qe[t]},0))/Object.keys(me).reduce(function(e,t){return e+me[t]*qe[t]},0)*100).toFixed(2),"%")))),m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"12",className:"d-none d-sm-block"},m.a.createElement(d.c,{data:{labels:Object.keys(_),datasets:[{data:Object.keys(me).map(function(e){return me[e]*Ce[e]}),backgroundColor:Rt}]},options:{title:{display:!0,text:"Networth Ratio",position:"bottom"},legend:{display:!0,position:"right",labels:{boxWidth:5}}}}))))):m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"12"}," ",m.a.createElement("h5",{className:"text-info"},"Add Stocks below for portfolio graphs"))),m.a.createElement("br",null),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(y.a,null,m.a.createElement(O.a,{className:"bg-primary"},"Add Stock to portfolio",m.a.createElement(k.a,{onClick:function(){Nt("showHistory"),He(!0)},className:"btn-warning float-right",size:"sm"},"Portfolio History")),m.a.createElement(N.a,null,m.a.createElement(v.a,{onSubmit:sa,inline:!0},m.a.createElement(g.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{md:"12"},m.a.createElement(h.a,{className:"mb-1",type:"text",placeholder:"Contract Number",onChange:function(e){return Xe(String(e.target.value).trim())},required:!0}),m.a.createElement(k.a,{className:"mx-1 mb-1",color:"success",onClick:function(){return oa("buy")}},"Buy"),m.a.createElement(k.a,{className:"mx-1 mb-1",color:"danger",onClick:function(){return oa("sell")}},"Sell"),m.a.createElement(k.a,{className:"mx-1 mb-1",outline:!0,color:"primary",onClick:function(){Nt("buy"),Xe(Math.round(Date.now()/1e3))}},"Buy Manually"))))))))),m.a.createElement("br",null),m.a.createElement(f.a,null,m.a.createElement(p.a,{className:"px-0"},m.a.createElement(b.a,{hover:!0,responsive:!0,size:"sm",className:"table-outline mb-0"},m.a.createElement("thead",{className:"bg-primary"},m.a.createElement("tr",null,m.a.createElement("th",{className:"d-none d-md-table-cell"},"SNO"),m.a.createElement("th",null,"Stock"),m.a.createElement("th",{className:"d-none d-sm-table-cell"},"Quantity"),m.a.createElement("th",{className:"d-none d-sm-table-cell"},"Price"),m.a.createElement("th",null,"Invest"),m.a.createElement("th",null,"Worth"),m.a.createElement("th",null,"Return"),m.a.createElement("th",{className:"d-none d-sm-table-cell"},"Action"))),m.a.createElement("tbody",null,Object.keys(_).map(function(e,t){if(ke.hasOwnProperty(e)&&Ie.hasOwnProperty(e)&&me.hasOwnProperty(e)&&qe.hasOwnProperty(e)&&Ce.hasOwnProperty(e))return m.a.createElement("tr",{key:e,className:Ce[e]*me[e]-25-(qe[e]*me[e]+25*wt[e])>=0?"table-success":"table-danger"},m.a.createElement("td",{className:"d-none d-md-table-cell"},t+1),m.a.createElement("td",null,m.a.createElement("div",null,e),m.a.createElement("div",{className:"small text-muted"},m.a.createElement("span",null,"LTP | "),ke[e].closeIndex.toLocaleString())),m.a.createElement("td",{className:"d-none d-sm-table-cell"},m.a.createElement("div",null,me[e].toLocaleString()),m.a.createElement("div",{className:"small text-muted d-none d-sm-block"},m.a.createElement("span",null,"Transactions | "),_[e].length+(ne.hasOwnProperty(e)?ne[e].length:0))),m.a.createElement("td",{className:"d-none d-sm-table-cell"},m.a.createElement("div",null,parseFloat(_[e].reduce(function(t,a){return t+a.quantity*a.price/_[e].reduce(function(e,t){return e+t.quantity},0)},0).toFixed(2)).toLocaleString()),m.a.createElement("div",{className:"small text-muted d-none d-sm-block"},m.a.createElement("span",null,"Net | ",qe[e].toFixed(2)))),m.a.createElement("td",null,m.a.createElement("div",null,parseFloat((_[e].reduce(function(t,a){return t+a.quantity*a.price/_[e].reduce(function(e,t){return e+t.quantity},0)},0)*me[e]).toFixed(2)).toLocaleString()),m.a.createElement("div",{className:"small text-muted"},m.a.createElement("span",null,"Net |",parseFloat((qe[e]*me[e]+25*wt[e]).toFixed(2)).toLocaleString()))),m.a.createElement("td",null,m.a.createElement("div",null,parseFloat((me[e]*ke[e].closeIndex).toFixed(2)).toLocaleString()),m.a.createElement("div",{className:"small text-muted"},m.a.createElement("span",null,"Net | "),parseFloat((me[e]*Ce[e]-25).toFixed(2)).toLocaleString())),m.a.createElement("td",null,m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:"float-right d-none d-md-block"},m.a.createElement("small",null,"Overall")),m.a.createElement("div",{className:"float-left"},m.a.createElement("strong",null,parseFloat((Ce[e]*me[e]-qe[e]*me[e]).toFixed(2)).toLocaleString()," "),m.a.createElement("small",null,"(",((Ce[e]*me[e]-qe[e]*me[e])/(qe[e]*me[e])*100).toFixed(2),"%)"))),Ce[e]*me[e]-qe[e]*me[e]>0?m.a.createElement(x.a,{className:"progress-xs",multi:!0},m.a.createElement(x.a,{bar:!0,color:"primary",value:me[e]*qe[e]/(me[e]*Ce[e])*100}),m.a.createElement(x.a,{bar:!0,color:"success",value:100-me[e]*qe[e]/(me[e]*Ce[e])*100})):m.a.createElement(x.a,{className:"progress-xs",multi:!0},m.a.createElement(x.a,{bar:!0,color:"primary",value:me[e]*Ce[e]/(me[e]*qe[e])*100}),m.a.createElement(x.a,{bar:!0,color:"danger",value:100-me[e]*Ce[e]/(me[e]*qe[e])*100})),m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:"float-right d-none d-md-block"},m.a.createElement("small",{className:"text-muted"},"Today")),m.a.createElement("div",{className:"float-left"},m.a.createElement("strong",null,(me[e]*(ke[e].closeIndex-Ie[e].closeIndex)).toFixed(2)),m.a.createElement("small",null,"(",(me[e]*(ke[e].closeIndex-Ie[e].closeIndex)/(Ie[e].closeIndex*me[e])*100).toFixed(2),"%)")))),m.a.createElement("td",{className:"d-none d-sm-table-cell"},m.a.createElement("i",{title:"View Transactions",className:"fa fa-eye",onClick:function(){$e(e),Nt("show")}}),m.a.createElement("i",{title:"Sell Stock",className:"fa fa-money ml-2",onClick:function(){$e(e),Nt("sell"),Xe(Math.round(Date.now()/1e3))}}),m.a.createElement("i",{title:"Remove Stock",className:"fa fa-times ml-2",onClick:function(){$e(e),Nt("remove")}})))}))))))))),m.a.createElement("div",null,m.a.createElement(S.a,{isOpen:yt&&We,toggle:ca},m.a.createElement(C.a,{toggle:ca},m.a.createElement("div",{className:"d-inline-block"},"Transaction Detail "),m.a.createElement("div",{className:"d-inline-block"},Ze?null:m.a.createElement(B.a,null))),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(w.a,null,"Company Symbol"),m.a.createElement(h.a,{disabled:!0,value:Ze,type:"text",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(w.a,null,"Date"),m.a.createElement(h.a,{disabled:!0,value:Et,type:"text",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(w.a,null,"Price"),m.a.createElement(h.a,{disabled:!0,value:it,type:"number",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(w.a,null,"Quantity"),m.a.createElement(h.a,{disabled:!0,value:rt,type:"number",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(w.a,null,"Total"),m.a.createElement(h.a,{disabled:!0,value:it*rt,type:"number",required:!0}))))),m.a.createElement(P.a,null,m.a.createElement(k.a,{disabled:"Wrong Contract Number"==Ze,color:"primary",onClick:"buy"==yt?sa:ia},"buy"==yt?"Buy":"Sell")," ",m.a.createElement(k.a,{color:"warning",onClick:ca},"Cancel"))),m.a.createElement(S.a,{isOpen:"sell"==jt,toggle:ca},m.a.createElement(C.a,{toggle:ca},"Sell Stock ",Ze),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(h.a,{type:"number",onChange:function(e){return ut(parseInt(e.target.value,10))},placeholder:"Price Per Share",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,me.hasOwnProperty(Ze)?m.a.createElement("small",{className:rt<=me[Ze]?"text-muted":"text-danger"},rt<=me[Ze]?"Available:"+me[Ze]:"Only "+me[Ze]+" available"):null,m.a.createElement(h.a,{type:"number",onChange:function(e){return ct(parseInt(e.target.value,10))},placeholder:"Number Of Shares",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement("small",{className:"text-muted"},"Total"),m.a.createElement(h.a,{type:"number",disabled:!0,placeholder:"Number Of Shares",value:it*rt})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,{row:!0},m.a.createElement(p.a,{md:"12"},m.a.createElement(q.a,null,m.a.createElement(T.a,{addonType:"prepend"},m.a.createElement(Y.a,null,"Sell Date")),m.a.createElement(h.a,{type:"date",onChange:function(e){return bt(e.target.value)},name:"date-input",placeholder:"date"}))))))),m.a.createElement(P.a,null,m.a.createElement(k.a,{color:"primary",onClick:ia},"Sell")," ",m.a.createElement(k.a,{color:"warning",onClick:ca},"Cancel"))),m.a.createElement(S.a,{isOpen:"buy"==jt,toggle:ca},m.a.createElement(C.a,{toggle:ca},"Buy Stock"),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"6"},m.a.createElement(g.a,null,m.a.createElement(U.a,{onSuggestionSelected:function(e,t){$e(e)}}),m.a.createElement("small",{className:"text-muted"},"Type Name or Symbol"))),m.a.createElement(p.a,{sm:"6"},m.a.createElement(g.a,null,m.a.createElement(D.a,{isOpen:Lt,toggle:function(){Vt(!Lt)}},m.a.createElement(I.a,{caret:!0,color:"primary"},tt),m.a.createElement(M.a,{right:!0},m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"IPO"),m.a.createElement(R.a,{onClick:function(e){at(e.target.innerText)}},"Secondary"),m.a.createElement(R.a,{onClick:function(e){ut(0),at(e.target.innerText)}},"Bonus"),m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"Right"),m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"FPO"),m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"Auction")))))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(h.a,{disabled:"Bonus"==tt,type:"number",onChange:function(e){return ut(parseInt(e.target.value,10))},placeholder:"Price Per Share",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,null,m.a.createElement(h.a,{type:"number",onChange:function(e){return ct(parseInt(e.target.value,10))},placeholder:"Number Of Shares",required:!0})))),m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(g.a,{row:!0},m.a.createElement(p.a,{md:"12"},m.a.createElement(q.a,null,m.a.createElement(T.a,{addonType:"prepend"},m.a.createElement(Y.a,null,"Bought Date")),m.a.createElement(h.a,{type:"date",onChange:function(e){return bt(e.target.value)},name:"date-input",placeholder:"date"}))))))),m.a.createElement(P.a,null,m.a.createElement(k.a,{color:"primary",onClick:sa},"Buy")," ",m.a.createElement(k.a,{color:"warning",onClick:ca},"Cancel"))),m.a.createElement(S.a,{isOpen:"remove"==jt,toggle:ca},m.a.createElement(C.a,{toggle:ca},"Permanently Remove ",Ze," From Portfolio ?"),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("strong",null,"If you have sold all of ",Ze,"'s stock than use sell function so that ",Ze,"'s transaction will be saved in history.")))),m.a.createElement(P.a,null,m.a.createElement(k.a,{color:"danger",onClick:function(){var e;ra.collection("portfolios").doc(aa).update((e={},Object(n.a)(e,"transactions.buy."+Ze,V.a.firestore.FieldValue.delete()),Object(n.a)(e,"transactions.sell."+Ze,V.a.firestore.FieldValue.delete()),e)),ca()}},"Delete Permanently")," ",m.a.createElement(k.a,{color:"success",onClick:function(){Nt("sell"),Xe(Math.round(Date.now()/1e3))}},"Use Sell Function"))),m.a.createElement(S.a,{size:"lg",isOpen:"show"==jt,toggle:ca},m.a.createElement(C.a,{toggle:ca},"Transaction History of ",Ze),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"12"},_.hasOwnProperty(Ze)&&fe.hasOwnProperty(Ze)?m.a.createElement(m.a.Fragment,null,m.a.createElement("h6",null,"Bought Transactions"),m.a.createElement(b.a,{size:"sm",bordered:!0,striped:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Date"),m.a.createElement("th",null,"Type"),m.a.createElement("th",null,"Price"),m.a.createElement("th",null,"Quantity"),m.a.createElement("th",null,"Total"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",null,_[Ze].map(function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},Object(i.format)(new Date(1e3*e.date),"D-MMM-YYYY")),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(h.a,{type:Yt?"date":"text",onFocus:function(e){Dt(!0)},onChange:function(e){return bt(e.target.value)},name:"date-input",placeholder:Et}))),m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},e.type),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(g.a,null,m.a.createElement(D.a,{size:"sm",direction:"up",isOpen:Lt,toggle:function(){Vt(!Lt)}},m.a.createElement(I.a,{color:"primary"},tt),m.a.createElement(M.a,{right:!0},m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"IPO"),m.a.createElement(R.a,{onClick:function(e){at(e.target.innerText)}},"Secondary"),m.a.createElement(R.a,{onClick:function(e){ut(0),at(e.target.innerText)}},"Bonus"),m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"Right"),m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"FPO"),m.a.createElement(R.a,{onClick:function(e){return at(e.target.innerText)}},"Auction")))))),m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},e.price,m.a.createElement("div",null,m.a.createElement("small",null,"Net | ",fe[Ze][t].toFixed(2)))),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(h.a,{disabled:"Bonus"==tt,type:"number",onChange:function(e){return ut(parseInt(e.target.value,10))},value:it,required:!0}))),m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},e.quantity),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(h.a,{type:"number",onChange:function(e){return ct(parseInt(e.target.value,10))},value:rt,required:!0}))),m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},(fe[Ze][t]*e.quantity).toFixed(2)),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},rt*it)),m.a.createElement("td",null,m.a.createElement("div",null,m.a.createElement("i",{title:"Edit Transaction",className:xt&&e.id==We?"d-none":"fa fa-edit ml-2",onClick:function(){Xe(e.id),St(!0),ut(e.price),ct(e.quantity),at(e.type),bt(Object(i.format)(new Date(1e3*e.date),"MM/DD/YYYY"))}}),m.a.createElement("i",{title:"Remove Transaction",className:xt&&e.id==We?"d-none":"fa fa-trash ml-2",onClick:function(){St(!1),ua(e.id,e.quantity,"buy","delete")}}),m.a.createElement("i",{title:"Save",className:xt&&e.id==We?"fa fa-check ml-2":"d-none",onClick:function(){St(!1),ua(e.id,e.quantity,"buy","update")}}),m.a.createElement("i",{title:"cancel",className:xt&&e.id==We?"fa fa-window-close ml-2":"d-none",onClick:function(){Xe(null),St(!1)}}))))})))):m.a.createElement("h6",null,"No Transactions"),ne.hasOwnProperty(Ze)&&ge.hasOwnProperty(Ze)?m.a.createElement(m.a.Fragment,null,m.a.createElement("h6",null,"Sold Transactions"),m.a.createElement(b.a,{size:"sm",bordered:!0,responsive:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Date"),m.a.createElement("th",null,"Price"),m.a.createElement("th",null,"Quantity"),m.a.createElement("th",null,"Total"),m.a.createElement("th",null,"Return"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",null,ne[Ze].map(function(e,t){return m.a.createElement("tr",{key:t,className:ge[Ze][t]*e.quantity-fe[Ze][t]*e.quantity>=0?"table-success":"table-danger"},m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},Object(i.format)(new Date(1e3*e.date),"D-MMM-YYYY")),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(h.a,{type:Yt?"date":"text",onFocus:function(e){Dt(!0)},onChange:function(e){return bt(e.target.value)},name:"date-input",placeholder:Et}))),m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},m.a.createElement("div",null,e.price),m.a.createElement("div",null,m.a.createElement("small",null,"Net | ",ge[Ze][t].toFixed(2)))),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(h.a,{disabled:"Bonus"==tt,type:"number",onChange:function(e){return ut(parseInt(e.target.value,10))},value:it,required:!0}))),m.a.createElement("td",null,m.a.createElement("div",{className:xt&&e.id==We?"d-none":"d-block"},e.quantity),m.a.createElement("div",{className:xt&&e.id==We?"d-block":"d-none"},m.a.createElement(h.a,{type:"number",onChange:function(e){return ct(parseInt(e.target.value,10))},value:rt,required:!0}))),m.a.createElement("td",null,(ge[Ze][t]*e.quantity).toFixed(2)),m.a.createElement("td",null,(ge[Ze][t]*e.quantity-qe[Ze]*e.quantity).toFixed(2)),m.a.createElement("td",null,m.a.createElement("div",null,m.a.createElement("i",{title:"Edit Transaction",className:xt&&e.id==We?"d-none":"fa fa-edit ml-2",onClick:function(){Xe(e.id),St(!0),ut(e.price),ct(e.quantity),at(e.type),bt(Object(i.format)(new Date(1e3*e.date),"MM/DD/YYYY"))}}),m.a.createElement("i",{title:"Remove Transaction",className:xt&&e.id==We?"d-none":"fa fa-trash ml-2",onClick:function(){St(!1),ua(e.id,e.quantity,"sell","delete")}}),m.a.createElement("i",{title:"Save",className:xt&&e.id==We?"fa fa-check ml-2":"d-none",onClick:function(){St(!1),ua(e.id,e.quantity,"sell","update")}}),m.a.createElement("i",{title:"cancel",className:xt&&e.id==We?"fa fa-window-close ml-2":"d-none",onClick:function(){Xe(null),St(!1)}}))))})))):m.a.createElement("h6",null,"No Sold Transactions"))),m.a.createElement(f.a,null,m.a.createElement(p.a,null,m.a.createElement("strong",null,"Total DP charge: ",25*wt[Ze])))),m.a.createElement(P.a,null,m.a.createElement(k.a,{color:"warning",onClick:ca},"Close"))),m.a.createElement(S.a,{size:"lg",isOpen:Jt,toggle:ca},m.a.createElement(C.a,null,"Congratulations!! Your Portfolio has been upgraded."),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("strong",null,"Following enhancement has been added to portfolio"),m.a.createElement("ul",null,m.a.createElement("li",null,"Ability to Edit and Remove individual transaction instead of whole company."),m.a.createElement("li",null,"View Portfolio History and Edit Portfolio Name Feature added."),m.a.createElement("li",null,"Fixed issue with commission calculation."),m.a.createElement("li",null,"Fixed Crashes and Enhanced Performance"),m.a.createElement("li",null,"Fixed date issues.")))),_t.length>0?m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("strong",null,"Congratulations! Following Scripts were migrated to new portfolio. ")),m.a.createElement(p.a,{xs:"12"},m.a.createElement("ul",null,_t.map(function(e){return m.a.createElement("li",{key:e},e)})))):null,Gt.length>0?m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("strong",null,"Unfortunately, following Scripts couldn't be migrated to new portfolio. Please re-enter them after login. ")),m.a.createElement(p.a,{xs:"12"},m.a.createElement("ul",null,Gt.map(function(e){return m.a.createElement("li",{key:e},e)})))):null,document.URL.match(/^https?:/)?m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("h3",null,"Note"),m.a.createElement("strong",null,"You Need to Update your android app to version 3.0.0 to use new Upgraded portfolio."))):null,m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement("strong",null,"Please login again to complete upgrade.")))),m.a.createElement(P.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{xs:"12"},m.a.createElement(k.a,{className:"float-right btn-success",onClick:function(){return V.a.auth().signOut()}},"Relogin"))))),m.a.createElement(S.a,{size:"lg",isOpen:"showHistory"==jt,toggle:ca},m.a.createElement(C.a,{toggle:ca},"Portfolio History"),m.a.createElement(F.a,null,m.a.createElement(f.a,null,m.a.createElement(p.a,{sm:"12"},Ue))))))))}}}]);
//# sourceMappingURL=17.40091677.chunk.js.map